---
layout: post
title: "74LS165串行输入"
date: 2009-03-10  17:12
comments: true
categories: tech
tags: ["Scm"]
_baiduhi_id: b10602fa56ae3f9f58ee90e1.html
_baiduhi_category: Scm
---

<font color="#0000ff"><font color="#000000">(hplonline)2009.3.10</font><br/><br/>
一。目标</font><br/>
练习74LS165<br/>
发现了一个很有用8排开关。。<br/>
（比起自己的按钮来说体积小多了。）<br/><br/><font color="#0000ff">二。电路</font><br/><div forimg="1"><img border="0" src="http://hiphotos.baidu.com/hplonline/pic/item/a3fb99138bb6d0a16438dbb7.jpg" small="0" class="blogimg"/></div>
嗯，如果从前面一路看过来的话，这图没啥说的了。。<br/>
要问我为啥喜欢数码管。。原因是这东西封装好。。<br/>
我们仅仅是用来表达一些信息而已。。用8个LED不觉得很难画吗。。<br/><br/><font color="#0000ff">三。程序</font><br/><br/>
ctrl BIT P3.7<br/><br/>
org 00h<br/>
ljmp func_main<br/><br/>
org 30h<br/>
func_main:<br/>
       mov SCON , #10h<br/>
       _start:<br/>
       clr ctrl<br/>
       setb ctrl<br/>
       jnb RI , $<br/>
       mov A , SBUF <br/>
       clr RI<br/>
       mov P1 , A<br/>
       acall func_delay<br/>
       sjmp _start<br/>
sjmp $<br/><br/>
func_delay:<br/>
       mov R6 , #200<br/>
       _lb:<br/>
       mov R5 , #100<br/>
       djnz R5 , $<br/>
       djnz R6 , _lb<br/>
ret<br/><br/>
end<br/><br/>
这里主要是165的控制。<br/>
ctrl的地址是165的sh/ld_bar<br/>
       clr ctrl<br/>
       setb ctrl<br/>
先置低，则芯片载入八个开关的状态<br/>
然后置高，则芯片进去移位模式<br/><br/>
TXD发送移位脉冲，<br/>
RXD接收数据。<br/><br/>
PS:今天发现了一个事情，就是。。<font color="#ff9900">PROTEUS里面居然可以双击一个芯片<br/>
然后点旁边的data</font>。。。则会自动下载其datasheet。。。<br/>
原来还在网上到处搜呢。。。郁闷。。
