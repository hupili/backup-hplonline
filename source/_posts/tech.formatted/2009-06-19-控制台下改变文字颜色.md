---
layout: post
title: "控制台下改变文字颜色"
date: 2009-06-19  13:23
comments: true
categories: tech
tags: ["Vc"]
_baiduhi_id: c0eab0a169e3628246106481.html
_baiduhi_category: Vc
---

(hplonline)2009.6.19<br/><br/>
用MFC的类或者GDI做图形编程的时候。<br/>
要改变下文字的颜色比较容易，有若干直观的函数可以调用。<br/>
比如SetBkColor之类的。<br/><br/>
在控制台下，还有一套古老的API可以用。<br/>
虽然不是很直观，也能达到一定效果。<br/><br/><font color="#0000ff">效果：</font><br/><div forimg="1"><img border="0" class="blogimg" small="0" src="http://hiphotos.baidu.com/hplonline/pic/item/b0aea7346dea9b91d1a2d31c.jpg"/></div>
<br/><br/><font color="#0000ff">代码：</font><br/><br/>
#include &lt;windows.h&gt;<br/><br/>
int main(){<br/>
      HANDLE h ;<br/>
      int len ;<br/>
      COORD coord ;<br/>
      WORD att ;<br/>
      h = GetStdHandle(STD_OUTPUT_HANDLE) ;<br/>
      len = lstrlen("hplonline") ;<br/>
      WriteConsole(h , "hplonline" , len , &amp;len , NULL) ;<br/><br/>
      coord.X = 0 ;<br/>
      coord.Y = 0 ;<br/>
      att =  BACKGROUND_BLUE | BACKGROUND_GREEN | BACKGROUND_RED | FOREGROUND_RED | FOREGROUND_BLUE;<br/>
      FillConsoleOutputAttribute(h , att , len , coord , &amp;len) ;<br/>
      <br/>
      getchar();<br/>
      return 0 ;<br/>
}<br/><br/><font color="#0000ff">说明：</font><br/><br/>
这套函数的名字里面一般都有Console字样。<br/>
GetStdHandle用来取得当前的标准输入，输出，或错误输出的句柄。<br/>
在调用其他函数的时候，一般都要求传入这个句柄。<br/><br/>
att比较有意思，是个WORD型的，定义的常量中只有RED GREEN BLUE 这几个，<br/>
但是可以用 | 把他们连接起来，组成其他的颜色。一共有8种。<br/><br/>
屏幕坐标按照惯例，也是向右为x的正方向，向下为y的正方向。<br/><br/>
其他的在MSDN里面说明很详尽了。<br/><br/>
