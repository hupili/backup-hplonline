---
layout: post
title: "一个线性筛素数的图形演示(matlab)"
date: 2009-07-23  11:30
comments: true
categories: tech
tags: ["算法"]
_baiduhi_id: 4804376de026ddf2421694b5.html
_baiduhi_category: 算法
---

(hplonline)2009.7.23<br/><br/>
做完了之后，发现其实也并不直观到哪里去，<br/>
而且由于matlab绘图的原因，演示的范围很有限。<br/>
所以估计一下，知道的同学看了知道是啥意思，<br/>
不知道的同学也不用期望看这个就彻底理解了，<br/>
还是得去找找其他的详细解释来看看。<br/><br/><font color="#0000ff">matlab实现的线性筛素数：<br/></font><br/>
clear ;<br/>
N = 20 ;<br/>
marks = zeros(1,N) ;<br/>
primes = [] ;<br/>
for i = 2:N<br/>
     if ~marks(i)<br/>
         primes = [primes , i] ;<br/>
     end<br/>
     for j = 1:length(primes)<br/>
         if i * primes(j) &gt; N <br/>
             break ;<br/>
         end<br/>
         marks(i * primes(j)) = 1 ;<br/>
         if mod(i , primes(j)) == 0 <br/>
             break ;     <br/>
         end<br/>
     end<br/>
end<br/>
primes<br/><br/><font color="#0000ff">在各个步骤中加入绘图演示的程序：</font><br/><br/>
clear ;<br/>
T = 1 ;%单步间隔时间<br/>
N = 20 ;%演示到的点数<br/>
marks = zeros(1,N) ;<br/>
plot(1:N , ones(1,N) , 'o') ;<br/>
for i = 1:N<br/>
     text(i,0.9,int2str(i)) ;<br/>
end<br/>
axis([0 N+1 0 2]) ;<br/>
hold on ;<br/>
primes = [] ;<br/>
for i = 2:N<br/>
     quiver(i - 0.2 ,1.2 , 0.1 , -0.15 , 0) ;pause(T) ;<br/>
     if ~marks(i)<br/>
         primes = [primes , i] ;<br/>
         plot(i,1,'*') ;pause(T) ;<br/>
         text(length(primes) , 1.5 , int2str(i)) ;<br/>
     end<br/>
     plot(1:length(primes) , 1.4 , 'og') ;pause(T) ;<br/>
     for j = 1:length(primes)<br/>
         if i * primes(j) &gt; N <br/>
             break ;<br/>
         end<br/>
         plot(j , 1.4 , 'or') ;pause(T) ;<br/>
         marks(i * primes(j)) = 1 ;<br/>
         plot(i * primes(j) , 1 , 'xr') ;<br/>
         plot(i * primes(j) , 1 , 'or') ;<br/>
         pause(T) ;<br/>
         if mod(i , primes(j)) == 0 <br/>
             break ;     <br/>
         end<br/>
     end<br/>
end<br/>
primes<br/><br/><font color="#0000ff">效果：</font><br/><br/><div forimg="1"><img border="0" src="http://hiphotos.baidu.com/hplonline/pic/item/96aee1f8fa9b0a27d8f9fd8e.jpg" small="0" class="blogimg"/><br/>
最下面一行就是带筛选的数字。空圈表示还没被筛掉的。<br/>
蓝色*号是确定为素数的，红色X号是被筛掉的。<br/><br/>
上面的蓝色箭头指向当前正在考察的数字。<br/><br/>
上面的数字是当前得到的素数表。<br/>
数字下面的圆圈，为红的表示，考察过的。（即筛掉primes(j) * i)</div>
<br/>
下面箭头的走势对应的是最外层i的循环，<br/>
上面的红圈表达的是对应j的循环。<br/><br/>
