---
layout: post
title: "收藏一个vim的配置文件。"
date: 2010-01-08  18:37
comments: true
categories: tech
tags: ["Linux"]
_baiduhi_id: 52fc672293ee6caf4723e8fe.html
_baiduhi_category: Linux
---

<p><br/>
收藏一个vim的配置文件。<br/>
来源：<a target="_blank" href="http://hi.baidu.com/totrit">T哥</a>（的同学，据说去年睡过我上铺）。</p>
<p>之前也用vi小写了几个东西，<br/>
感觉很不爽。<br/>
比如tab，一打就是8个空，<br/>
跟dev的感觉一样，特难看。。<br/>
还有在编辑模式按方向键和鼠标滚轮，<br/>
会很囧地出现A等字符。<br/>
再然后不会自动缩进，<br/>
几行的代码就不说了，<br/>
要是代码多了，<br/>
这手动空格实在是很麻烦。</p>
<p>这个配置文件都给解决了。。一用感觉爽多了。</p>
<p>保存在用户目录下，比如我的：<br/><font color="#ff9900">/home/hpl/.vimrc</font></p>
<p><font color="#0000ff">配置文件：</font></p>
<p>nmap &lt;C-_&gt;s :cs find s &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;g :cs find g &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;c :cs find c &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;t :cs find t &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;e :cs find e &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;f :cs find f &lt;C-R&gt;=expand("&lt;cfile&gt;")&lt;CR&gt;&lt;CR&gt;<br/>
nmap &lt;C-_&gt;i :cs find i ^&lt;C-R&gt;=expand("&lt;cfile&gt;")&lt;CR&gt;$&lt;CR&gt;<br/>
nmap &lt;C-_&gt;d :cs find d &lt;C-R&gt;=expand("&lt;cword&gt;")&lt;CR&gt;&lt;CR&gt;</p>
<p>set sm<br/>
set ai</p>
<p>if v:lang =~ "utf8$" || v:lang =~ "UTF-8$"<br/>
    set fileencodings=ucs-bom,utf-8,latin1<br/>
endif</p>
<p>set tabstop=4</p>
<p>set nocompatible " Use Vim defaults (much better!)<br/>
set bs=indent,eol,start   " allow backspacing over everything in insert mode<br/>
"set ai    " always set autoindenting on<br/>
"set backup   " keep a backup file<br/>
set viminfo='20,\"50 " read/write a .viminfo file, don't store more<br/>
    " than 50 lines of registers<br/>
set history=50   " keep 50 lines of command line history<br/>
set ruler   " show the cursor position all the time</p>
<p>" Only do this part when compiled with support for autocommands<br/>
if has("autocmd")<br/>
  augroup fedora<br/>
  autocmd!<br/>
  " In text files, always limit the width of text to 78 characters<br/>
  autocmd BufRead *.txt set tw=78<br/>
  " When editing a file, always jump to the last cursor position<br/>
  autocmd BufReadPost *<br/>
  \ if line("'\"") &gt; 0 &amp;&amp; line ("'\"") &lt;= line("$") |<br/>
  \    exe "normal! g'\"" |<br/>
  \ endif<br/>
  " don't write swapfile on most commonly used directories for NFS mounts or USB sticks<br/>
  autocmd BufNewFile,BufReadPre /media/*,/mnt/* set directory=~/tmp,/var/tmp,/tmp<br/>
  " start with spec file template<br/>
  autocmd BufNewFile *.spec 0r /usr/share/vim/vimfiles/template.spec<br/>
  augroup END<br/>
endif</p>
<p>if has("cscope") &amp;&amp; filereadable("/usr/bin/cscope")<br/>
    set csprg=/usr/bin/cscope<br/>
    set csto=0<br/>
    set cst<br/>
    set nocsverb<br/>
    " add any database in current directory<br/>
    if filereadable("cscope.out")<br/>
       cs add cscope.out<br/>
    " else add database pointed to by environment<br/>
    elseif $CSCOPE_DB != ""<br/>
       cs add $CSCOPE_DB<br/>
    endif<br/>
    set csverb<br/>
endif</p>
<p>" Switch syntax highlighting on, when the terminal has colors<br/>
" Also switch on highlighting the last used search pattern.<br/>
if &amp;t_Co &gt; 2 || has("gui_running")<br/>
  syntax on<br/>
  set hlsearch<br/>
endif</p>
<p>" filetype plugin on</p>
<p>if &amp;term=="xterm"<br/>
      set t_Co=8<br/>
      set t_Sb= [4%dm<br/>
      set t_Sf= [3%dm<br/>
endif</p>
<p>set nu<br/>
" Don't wake up system with blinking cursor:<br/>
" <a href="http://www.linuxpowertop.org/known.php">http://www.linuxpowertop.org/known.php</a><br/>
" let &amp;guicursor = &amp;guicursor . ",a:blinkon0"</p>
<p><br/><font color="#0000ff">解释：</font></p>
<p>东西比较多，只记录一下关心的几条。<br/>
就是前面提到过的那些戳瓢之处，<br/>
看看是怎么改进的。</p>
<p>set sm<br/>
貌似括号配对，闪烁提示<br/>
set ai<br/>
打开自动缩进<br/>
set nu<br/>
显示行号<br/>
set tabstop=4<br/>
tab换4个空格<br/>
set bs=indent,eol,start <br/>
这样就可以用退格删除缩进，退格到上一行等</p>
<p>另外由于在win下拷来拷去，<br/>
又用IE打开，又发在网页上。<br/>
难免有些字符替换问题。<br/>
（经常见到很多囧死人的网络代码）</p>
<p><font color="#ff0000">如果打开vi报错的话，<br/>
用"（英文双引号）注视掉报错的行号吧。</font></p>
<p>应该不会影响多少使用。</p>
